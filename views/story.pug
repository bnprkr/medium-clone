extends layout.pug 

include utils.pug 

block content 
  main 
    article 
      .story-container
        .story-box-full
          .story-title 
            h2 #{story.title} 
          .story-text
            each para in story.text.split('\n')
              p #{para}
          .story-box-bottom-bar 
            .left 
              .story-like-button
                if story.liked 
                  i.fa-solid.fa-heart.like-button.liked
                else 
                  i.fa-solid.fa-heart.like-button        
              .story-likes
                span #{story.numLikes}
            .right 
              if story.myStory
                .edit-delete
                  a(href="/me/stories/" + `${story.storyId}` + "/edit") Edit 
                  a(href="/me/stories/" + `${story.storyId}` + "/delete") Delete
    .comments-container
      .comments 
        .comment-form
          form(action="")
            //- .comment-title 
            //-   textarea(name="commentTitle" cols="45" rows="1" placeholder="Title")
            .comment-text 
              textarea(name="commentText" cols="45" rows="5" placeholder="Comment..")
            .comment-submit 
              input(type="button", value="Add comment")
        .comments-list
          each comment in story.comments 
            .comment-box 
              //- .comment-title 
              //-   h3 #{comment.title}        
              .comment-author 
                | #{comment.author}
              .comment-text 
                each para in comment.text.split('\n')
                  p #{para}

  script.
    const username = "#{username}"
    const storyId = "#{story.storyId}"
  script(src="/story.js")

  


